<!DOCTYPE html>
<html>

<head>
    <title>SSSGVS</title>
    <base target="_top">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <style>
        /*Commonstyle*/
        .textCenter {
            text-align: center;
        }

        .fRight {
            float: right;
        }

        .clearBoth {
            clear: both;
        }

        .marginAuto {
            margin: 0 auto;
        }

        .mTop20 {
            margin-top: 20px;
        }

        .backGRed {
            background-color: red;
        }

        .colorRed {
            color: red;
        }

        .colorBlack {
            color: #000;
        }

        /*template Styles*/
        body {
            background: #ffecaa;
        }

        .mainContainer {
            max-width: 945px;
        }

        @media only screen and (min-width: 992px) {

            .headerNavigation,
            .headerNavigation .nav-link {
                height: 37px;
                background-color: #c81c0e;
            }
        }

        @media only screen and (max-width: 991px) {

            .headerNavigation,
            .headerNavigation .nav-link {
                padding: 10px;
            }
        }

        .headerNavigation .dropdown-menu,
        .headerNavigation ul {
            background-color: #c81c0e;
        }

        .headerNavigation .nav-link,
        .headerNavigation .dropdown-menu a {
            color: #fff !important;
            font-weight: 700;
            font-family: Verdana;
            font-size: 12px;
        }

        .headerNavigation .nav-link:hover,
        .headerNavigation a:hover {
            color: #000 !important;
        }

        .headerNavigation a.dropdown-item:hover {
            background-color: orange;
        }

        .headerNavigation .nav-item {
            border-right: 2px solid #9c3232 !important;
        }

        .headerNavigation .nav-item:last-child {
            border: none !important;
        }


        /* Form styles */
        label.radio-inline+label.radio-inline {
            padding-left: 10px;
        }

        label.radio-inline span {
            padding-left: 10px;
        }

        .buttonsSection,
        #addParticipants {
            margin-bottom: 20px;
        }

        /*Additional Participants*/
        .additionalPartcipants {
            border: 2px solid #1565C0;
            border-radius: 5px;
            padding: 15px;
        }

        .additionalPartcipants {
            margin-bottom: 20px;
        }

        .removeSection {
            float: right;
            color: #000;
            cursor: pointer;
            text-decoration: underline;
        }

        .removeSection .material-icons {
            position: relative;
            top: 4px;
        }

        .was-validated .optional:valid,
        .was-validated .optional:invalid {
            background-image: none;
            border-color: inherit;
        }

        .addPHeading div {
            display: inline-block;
            margin-bottom: 20px;
        }

        /*Thankyou note & Duplicate info*/
        .exclaim {
            margin-top: 6px;
            margin-left: 5px;
        }

        .form-group .alert-info {
            font-size: 20px !important;
        }

        .namaskaraImage {
            width: 150px;
            margin: 0 auto;
            margin-top: 25px;
        }

        .thankyouNote .textCenter {
            color: #fff;
        }

        .thankyouNote {
            background-color: #7cdd7c !important;
        }
    </style>
</head>

<body>

    <div class="mainContainer container">
        <!--Header Start-->
        <div class="header">
            <img class="card-img-top SSSGVSImg" src="https://srisrisriguruviswasphoorthi.org/images/header.jpg"
                alt="SriSriSri Guru Viswa Sphoorthi" width="892" height="133">
            <!--Navigation Menu Start-->
            <nav class="navbar navbar-expand-lg navbar-light headerNavigation">

                <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">The Scientific Sanit</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Dhyana Mano Prasthan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Jana Prasthan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Activities</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Divyakunj</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Live</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Experiences</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Gallery
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="#">Photo Gallery</a>
                                <a class="dropdown-item" href="#">Video Gallery</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
            <!--Navigation Menu End-->
        </div>
        <!--Header End-->

        <br />

        <!--Main Registration Form Start-->
        <div class="mainForm" id="completeForm">
            <form class="mainForm boxForm needs-validation class-was-validated" id="mainRegForm">
                <!--Note - Info-->
                <div class="alert alert-info font25" role="alert">Note:
                    * Required
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-12">
                        <label for="familyname">Surname/Family name (ఇంటి పేరు) *</label>
                        <input type="text" class="form-control" name="famName" id="familyname"
                            placeholder="Enter Surname" required>
                        <div class="invalid-feedback">Please enter your surname or family name. <br> మీ ఇంటి పేరు
                            వ్రాయగలరు.
                        </div>
                    </div>
                    <div class="form-group col-md-6 col-sm-12">
                        <label for="firstname">Name (పేరు) *</label>
                        <input type="text" class="form-control" name="name" id="firstname" placeholder="Enter Name"
                            required>
                        <div class="invalid-feedback">Please enter your name.<br>మీ పేరు వ్రాయగలరు.</div>
                    </div>
                </div>
                <!--End of a row-->

                <div class="form-row">
                    <div class="form-group form-check genderCheck col-sm-6">
                        <label for="radioGenderCheck">Gender * </label><br />
                        <label class="radio-inline"><input type="radio" name='radioGenderCheck' value="Male"
                                required><span>Male</span></label>
                        <label class="radio-inline"><input type="radio" name='radioGenderCheck' value="Female"
                                required><span>Female</span></label>
                        <div class="invalid-feedback">Please select an option.</div>
                    </div>
                    <div class="form-group col-sm-6">
                        <label for="firstname">Age (వయసు) *</label>
                        <input name="ageCheck" id="mainAgeCheck" pattern="\d*" type="text" class="form-control"
                            placeholder="Enter Age" min="0" maxlength="3" required>
                        <div class="invalid-feedback">Please enter your Age. <br>మీ వయసు వ్రాయగలరు.</div>
                    </div>
                </div>
                <!--End of a row-->


                <div class="form-group">
                    <label for="fhSelection">Father/Mother/Husband 's Full Name (తండ్రి / తల్లి / భర్త పూర్తి
                        పేరు) *</label>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend w25perc">
                            <select name="fhSelection" id="fhSelection" class="custom-select" required="">
                                <option value="" disabled="" selected="">Choose Option</option>
                                <option value="daughterOf">D/o</option>
                                <option value="sonOf">S/o</option>
                                <option value="wifeOf">W/o</option>
                            </select>
                        </div>
                        <input type="text" class="form-control" aria-label="Text input with dropdown button"
                            name="fhName" id='addCareTakerName' placeholder="Enter Name" required>
                        <div class="invalid-feedback fhSelectionError">Please select an option. <br>దయచేసి ఒక
                            ఎంపికను
                            ఎంచుకోండి</div>
                        <div class="invalid-feedback">Please enter your father/mother/husband name.<br>మీ తండ్రి /
                            తల్లి
                            /భర్త పేరు వ్రాయగలరు.</div>
                    </div>
                </div>


                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-12">
                        <label for="countrySelection">Country (దేశం) *</label>
                        <select name="country" id="countrySelection" class="custom-select other-check geoLocation"
                            onchange="dropdownCheck('countrySelection');" required>
                            <option value="null" disabled selected>Choose Option</option>
                            <option value="in">India</option>
                            <option value="us">USA</option>
                        </select>
                        <div class="invalid-feedback">Please select a country.</div>
                    </div>
                    <div class="form-group col-md-6 col-sm-12">
                        <label for="pin">Postal Code (పిన్ కోడ్) *</label>
                        <input name="postal" id="pin" pattern="\d*" maxlength="6" minlength="6" type="text"
                            class="form-control" placeholder="Enter Pin" required
                            onblur="initiateServiceCall(document.getElementById('countrySelection').value,document.getElementById('pin').value)">
                        <div class="invalid-feedback">Please enter your area postal code.</div>
                    </div>
                </div>
                <!--End of a row-->


                <div class="form-group ">
                    <label for="areaSelection">Area (ప్రాంతం) *</label>
                    <select name="area" id="areaSelection" class="custom-select other-check geoLocation" required>
                        <option value="0" disabled selected>Choose Option</option>
                        <option value="AREA1">AREA1</option>
                        <option value="AREA2">AREA2</option>
                    </select>
                    <div class="invalid-feedback">Please select a area.</div>
                </div>

                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-12">
                        <label for="mobile">Mobile (మొబైల్) *</label>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend w25perc">
                                <input name="callingCode" id="calling_code" type="text" class="form-control" disabled>
                            </div>
                            <input name="telNum" id="mobile" pattern="\d*" maxlength="10" minlength="10" type="text"
                                class="form-control" aria-label="Number input with dropdown button"
                                placeholder="Enter Mobile Number" required>
                            <div class="invalid-feedback">Please enter your mobile number.</div>
                        </div>
                    </div>

                    <div class="form-group col-md-6 col-sm-12">
                        <label for="alternateNum">Alternate Phone Number (ఇతర ఫోన్ నెంబర్)</label>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend w25perc">
                                <select name="alternateCode" id="alternateCode" class="custom-select optional">
                                    <option value="" disabled selected>Country Code</option>
                                    <option value="code1">CODE1</option>
                                    <option value="code2">CODE2</option>
                                </select>
                            </div>
                            <input name="alternateNum" id="alternateNum" pattern="\d*" maxlength="10" minlength="5"
                                type="text" class="form-control optional" aria-label="Number input with dropdown button"
                                placeholder="Enter Alternate Number">
                            <div class="invalid-feedback alternateCodeError">Please select country code.</div>
                            <div class="invalid-feedback">Please enter your alternate mobile number.</div>
                        </div>
                    </div>
                </div>
                <!--End of a row-->

                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-12">
                        <label for="whatsappNum">WhatsApp Number (వాట్సాప్ నెంబర్)</label>
                        <div class="input-group mb-3">
                            <div class="input-group-prepend w25perc">
                                <select name="whatsappCode" id="whatsappCode" class="custom-select optional">
                                    <option value="" disabled selected>Country Code</option>
                                    <option value="code1">CODE1</option>
                                    <option value="code2">CODE2</option>
                                </select>
                            </div>
                            <input name="whatsappNum" id="whatsappNum" pattern="\d*" maxlength="10" minlength="5"
                                type="text" class="form-control optional" aria-label="Number input with dropdown button"
                                placeholder="Enter WhatsApp Number">
                            <div class="invalid-feedback whatsappCodeError">Please select country code.</div>
                            <div class="invalid-feedback">Please enter your WhatsApp number.</div>
                        </div>
                    </div>

                    <div class="form-group col-md-6 col-sm-12">
                        <label for="email">E-Mail (ఈ-మెయిల్)</label>
                        <input name="eMail" id="email" type="email" class="form-control optional"
                            placeholder="email@example.com">
                    </div>
                </div>
                <!--End of row-->

                <div class="form-row">
                    <div class="form-group form-check prevCheck">
                        <div for="radioExistingCheck">Have you attended Guruji's programs earlier? *<br />ఇంతకుముందు
                            మీరు
                            గురువుగారి కార్యక్రమాల్లో పాల్గొన్నారా?<br /></div>
                        <label class="radio-inline"><input type="radio" name='existing' value="Yes" required><span
                                value="Yes">Yes</span></label>
                        <label class="radio-inline"><input type="radio" name='existing' value="No" required><span
                                value="No">No</span></label>
                        <div class="invalid-feedback">Please select an option.</div>
                    </div>
                </div>
                <!--End of row-->


                <div class="form-group">
                    Security questions<br />

                    <div class="alert alert-info font25" role="alert">Note:
                        This security question and answer would be used for accessing your form data in future.<br />
                        ఈ భద్రతా ప్రశ్న మరియు సమాధానం భవిష్యత్తులో ఈ ఫారం లో మీ సమాచారాన్ని పొందడానికి ఉపయోగపడుతుంది.
                    </div>

                    <select name="secutiryQues" id="secutiryQues" class="custom-select optional" required>
                        <option name="secutiryQues0" value="Please select a security Question" selected disabled>Please
                            select a security Question</option>
                        <option name="secutiryQues1" value="First book you read from Guruji's writings">First book you
                            read
                            from Guruji's writings</option>
                        <option name="secutiryQues1" value="Your birth place">Your birth place</option>
                        <option name="secutiryQues2" value="Mother's maiden name">Mother's maiden name</option>
                        <option name="secutiryQues2" value="Paternal grand father name">Paternal grand father name
                        </option>
                        <option name="secutiryQues1" value="Birth place of your son or daughter">Birth place of your son
                            or
                            daughter</option>
                    </select>

                    <input type="text" class="form-control" name="securityQAns" id="securityQAns"
                        aria-describedby="basic-addon3" required>
                    <div class='invalid-feedback secutiryQuesError'>Please select an option. <br>దయచేసి ఒక ఎంపికను
                        ఎంచుకోండి</div>
                    <div class='invalid-feedback'>Please select a question and enter answer for the same.</div>
                </div>
                <div class="form-group">
                    <label for="pin">Enter a PIN * :</label>
                    <input type="password" name="pin" class="form-control" id="pin" required>
                    <div class="invalid-feedback">Please enter a PIN.</div>
                </div>
                <div class="form-group">
                    <label for="comment">Comments (మీ సలహాలు) :</label>
                    <textarea name="comments" class="form-control" rows="2" id="comment"></textarea>
                </div>
            </form>

            <!--Additional Participants Section-->
            <div class="additionalPSection all" id="additionalPSection"></div>

            <!--Buttons Start-->
            <div class="buttonsSection">
                <label>If you want to add more participants please click: &nbsp; </label><button id="addParticipants"
                    class="btn btn-outline-info mTop20" type="button">Add More Participants</button>

                <div class='submitErrorMsg colorRed   textCenter' style="display:none">Please fill the above
                    required fields.</div>
                <button id="btn" type="submit" name="action" class="btn btn-primary col-sm-12 mTop20">Submit
                    Registration</button>
            </div>
            <!--Buttons End-->

        </div>
        <!--Main Registration Form End-->

        <!-- Start of Thank You Note -->
        <div class="mainContainer container thankyouNote" id="thankyouNote" style="display:none">
            <div class="textCenter  "><span class="spYellow">SPHOORTHI OUM</span></div>

            <div class="card form-group marginAuto introSection">
                <img class="card-img-top namaskaraImage"
                    src="https://drive.google.com/uc?export=download&id=1qMCMrNz3uj4whNJSF4ZGLAFCevmHvd4h"
                    alt="Namaskaram Image">

                <div class="card-body">
                    <div class="card-title  ">ధన్యవాదాలు.. మీ రిజిస్ట్రేషన్ పూర్తయింది.<br> ఈ కార్యక్రమ వివరాలు
                        త్వరలో
                        మీకు తెలియజేస్తాము.<br><br>
                        Thank you.. You have completed registration.<br> We shall communicate to you the event details
                        soon.
                    </div>
                </div>

                <div class='row tyButton' style="display:none;">
                    <div class="col-sm-12">
                        <button id="returnButton" class="btn btn-primary">Return to the form.</button>
                    </div>
                </div>
            </div><!-- End of form group-->

        </div><!-- End of Thank You Note -->





    </div>


    <!-- jQuery first, then Popper.js, then Bootstrap JS 
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>-->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>

    <script>

        var additionPHTML = "<section class='additionalPartcipants class-was-validated' id='additionalP'><div class='addPHeading'><div class='levelAdditionalParticipants  '>Additional Participants</div><div class='  removeSection'>Remove this participant</div></div><div class='form-row'><div class='form-group col-md-6 col-sm-12'><label for='addFamilyName'>Surname/Family name (ఇంటి పేరు) *</label><input type='text' class='form-control' name='addPSurName' id='addFamilyName' placeholder='Enter Surname' required><div class='invalid-feedback'>Please enter your surname or family name.</div></div><div class='form-group col-md-6 col-sm-12'><label for='addPName'>Name (పేరు) *</label><input type='text' class='form-control' name='addPName' id='addName' placeholder='Enter Name' required><div class='invalid-feedback'>Please enter your name.</div></div></div><div class='form-row'><div class='form-group form-check addPRadioGenderCheck col-md-6 col-sm-12'><label for='addPRadioGenderCheck'>Gender * </label><br /><label class='radio-inline'><input type='radio' name='addPRadioGenderCheck' value='Male' required><span>Male</span></label><label class='radio-inline'><input type='radio' name='addPRadioGenderCheck' value='Female' required><span>Female</span></label><div class='invalid-feedback'>Please select an option.</div></div><div class='form-group col-md-6 col-sm-12'><label for='addPAgeCheck'>Age (వయసు) *</label><input name='addPAgeCheck' id='addPAgeCheck' type='text' pattern='\\d*' class='form-control' placeholder='Enter Age' min='0' maxlength='3' required><div class='invalid-feedback'>Please enter your age.</div></div></div><div class='form-group addPCareTaker'><label for='addPCareTakerSel'>Father/Mother/Husband 's Full Name (తండ్రి / తల్లి / భర్త పూర్తి పేరు) *</label><div class='input-group mb-3'><div class='input-group-prepend mobileW100Perc'><select name='addPCareTakerSel' id='addPCareTakerSel' class='custom-select' required='Plese select an option'><option value='' disabled='' selected=''>Choose Option</option><option value='daughterOf'>D/o</option><option value='sonOf'>S/o</option><option value='wifeOf'>W/o</option> </select></div><input type='text' class='form-control' aria-label='Text input with dropdown button' name='addPfhName' id='addPCareTakerName' placeholder='Enter Name' required><div class='invalid-feedback addPCareTakerSelError'>Please select an option. <br>దయచేసి ఒక ఎంపికను ఎంచుకోండి</div><div class='invalid-feedback'>Please enter your father/mother/husband name.<br>మీ తండ్రి / తల్లి /భర్త పేరు వ్రాయగలరు.</div></div></div><div class='form-row'><div class='form-group mobileCodeNum col-md-6 col-sm-12'><label for='addp_calling_code'>Mobile (మొబైల్) *</label><div class='input-group mb-3'><div class='input-group-prepend w25perc'><select name='addPCallingCode' id='addp_calling_code' class='custom-select optional'> </select></div><input id='addp_icon_telephone' name='addPTelephone' pattern='\\d*' maxlength='15' type='text' minlength='5' class='form-control' aria-label='Number input with dropdown button' placeholder='Enter Mobile Number' required><div class='invalid-feedback mobileCountryCodeError'>Please select country code for the above number.</div><div class='invalid-feedback'>Please enter your mobile number.</div></div></div><div class='form-group alternateCodeNum col-md-6 col-sm-12'> <label for='alternateNum'>Alternate Phone Number (ఇతర ఫోన్ నెంబర్)</label><div class='input-group mb-3'><div class='input-group-prepend w25perc'> <select name='alternateCountryCode' id='alternateCountryCode' class='custom-select optional'> </select></div> <input name='alternateNum' id='alternateNum' pattern='\\d*' maxlength='15' minlength='5' type='text' class='form-control optional' aria-label='Number input with dropdown button' placeholder='Enter Alternate Number'><div class='invalid-feedback alternateCountryCodeError'>Please select country code for the above number.</div><div class='invalid-feedback'>Please enter your alternate mobile number.</div></div></div></div><div class='form-row'><div class='form-group whatsappCodeNum col-md-6 col-sm-12'> <label for='whatsappNum'>WhatsApp Number (వాట్సాప్ నెంబర్)</label><div class='input-group mb-3'><div class='input-group-prepend w25perc'> <select name='whatsappCountryCode' id='whatsappCountryCode' class='custom-select optional'> </select></div> <input name='whatsappNum' id='whatsappNum' pattern='\\d*' maxlength='15' minlength='5' type='text' class='form-control optional' aria-label='Number input with dropdown button' placeholder='Enter WhatsApp Number'><div class='invalid-feedback whatsappCountryCodeError'>Please select country code for the above number.</div><div class='invalid-feedback'>Please enter your WhatsApp number.</div></div></div><div class='form-group col-md-6 col-sm-12'><label for='addp_icon_mail'>E-Mail (ఈ-మెయిల్)</label><input id='addp_icon_mail' name='addPEmail' type='email' class='form-control optional' placeholder='email@example.com'></div></div><div class='form-group form-check prevCheck'><div>Have you attended Guruji's programs earlier? *<br>ఇంతకుముందు మీరు గురువుగారి కార్యక్రమాల్లో పాల్గొన్నారా?<br></div><label class='radio-inline'><input type='radio' name='existing' value='Yes'><span value='Yes'>Yes</span></label><label class='radio-inline'><input type='radio' name='existing' value='No'><span value='No'>No</span></label><div class='invalid-feedback'>Please select an option.</div></div> </section>";

        var countryNames = "{'status':'OK','status-code':200,'version':'1.0','total':251,'limit':100,'offset':0,'access':'public','data':{'DZ':{'country':'Algeria','region':'Africa'},'AO':{'country':'Angola','region':'Africa'},'BJ':{'country':'Benin','region':'Africa'},'BW':{'country':'Botswana','region':'Africa'},'BF':{'country':'Burkina Faso','region':'Africa'},'BI':{'country':'Burundi','region':'Africa'},'CV':{'country':'Cabo Verde','region':'Africa'},'CM':{'country':'Cameroon','region':'Africa'},'CF':{'country':'Central African Republic (the)','region':'Africa'},'TD':{'country':'Chad','region':'Africa'},'KM':{'country':'Comoros ','region':'Africa'},'CD':{'country':'Congo (the Democratic Republic of the)','region':'Africa'},'CG':{'country':'Congo (the)','region':'Africa'},'CI':{'country':'Côte d'Ivoire','region':'Africa'},'DJ':{'country':'Djibouti','region':'Africa'},'EG':{'country':'Egypt','region':'Africa'},'GQ':{'country':'Equatorial Guinea','region':'Africa'},'ER':{'country':'Eritrea','region':'Africa'},'ET':{'country':'Ethiopia','region':'Africa'},'GA':{'country':'Gabon','region':'Africa'},'GM':{'country':'Gambia ','region':'Africa'},'GH':{'country':'Ghana','region':'Africa'},'GN':{'country':'Guinea','region':'Africa'},'GW':{'country':'Guinea-Bissau','region':'Africa'},'KE':{'country':'Kenya','region':'Africa'},'LS':{'country':'Lesotho','region':'Africa'},'LR':{'country':'Liberia','region':'Africa'},'LY':{'country':'Libya','region':'Africa'},'MG':{'country':'Madagascar','region':'Africa'},'MW':{'country':'Malawi','region':'Africa'},'ML':{'country':'Mali','region':'Africa'},'MR':{'country':'Mauritania','region':'Africa'},'MU':{'country':'Mauritius','region':'Africa'},'YT':{'country':'Mayotte','region':'Africa'},'MA':{'country':'Morocco','region':'Africa'},'MZ':{'country':'Mozambique','region':'Africa'},'NA':{'country':'Namibia','region':'Africa'},'NE':{'country':'Niger (the)','region':'Africa'},'NG':{'country':'Nigeria','region':'Africa'},'RE':{'country':'Réunion','region':'Africa'},'RW':{'country':'Rwanda','region':'Africa'},'SH':{'country':'Saint Helena, Ascension and Tristan da Cunha','region':'Africa'},'ST':{'country':'Sao Tome and Principe','region':'Africa'},'SN':{'country':'Senegal','region':'Africa'},'SC':{'country':'Seychelles','region':'Africa'},'SL':{'country':'Sierra Leone','region':'Africa'},'SO':{'country':'Somalia','region':'Africa'},'ZA':{'country':'South Africa','region':'Africa'},'SS':{'country':'South Sudan','region':'Africa'},'SD':{'country':'Sudan ','region':'Africa'},'SZ':{'country':'Swaziland','region':'Africa'},'TZ':{'country':'Tanzania, United Republic of','region':'Africa'},'TG':{'country':'Togo','region':'Africa'},'TN':{'country':'Tunisia','region':'Africa'},'UG':{'country':'Uganda','region':'Africa'},'EH':{'country':'Western Sahara*','region':'Africa'},'ZM':{'country':'Zambia','region':'Africa'},'ZW':{'country':'Zimbabwe','region':'Africa'},'AQ':{'country':'Antarctica','region':'Antarctic'},'BV':{'country':'Bouvet Island','region':'Antarctic'},'TF':{'country':'French Southern Territories (the)','region':'Antarctic'},'HM':{'country':'Heard Island and McDonald Islands','region':'Antarctic'},'GS':{'country':'South Georgia and the South Sandwich Islands','region':'Antarctic'},'AF':{'country':'Afghanistan','region':'Asia'},'AM':{'country':'Armenia','region':'Asia'},'AZ':{'country':'Azerbaijan','region':'Asia'},'BD':{'country':'Bangladesh','region':'Asia'},'BT':{'country':'Bhutan','region':'Asia'},'IO':{'country':'British Indian Ocean Territory (the)','region':'Asia'},'BN':{'country':'Brunei Darussalam','region':'Asia'},'KH':{'country':'Cambodia','region':'Asia'},'CN':{'country':'China','region':'Asia'},'GE':{'country':'Georgia','region':'Asia'},'HK':{'country':'Hong Kong','region':'Asia'},'IN':{'country':'India','region':'Asia'},'ID':{'country':'Indonesia','region':'Asia'},'JP':{'country':'Japan','region':'Asia'},'KZ':{'country':'Kazakhstan','region':'Asia'},'KP':{'country':'Korea (the Democratic People's Republic of)','region':'Asia'},'KR':{'country':'Korea (the Republic of)','region':'Asia'},'KG':{'country':'Kyrgyzstan','region':'Asia'},'LA':{'country':'Lao People's Democratic Republic (the)','region':'Asia'},'MO':{'country':'Macao','region':'Asia'},'MY':{'country':'Malaysia','region':'Asia'},'MV':{'country':'Maldives','region':'Asia'},'MN':{'country':'Mongolia','region':'Asia'},'MM':{'country':'Myanmar','region':'Asia'},'NP':{'country':'Nepal','region':'Asia'},'PK':{'country':'Pakistan','region':'Asia'},'PH':{'country':'Philippines (the)','region':'Asia'},'SG':{'country':'Singapore','region':'Asia'},'LK':{'country':'Sri Lanka','region':'Asia'},'TW':{'country':'Taiwan (Province of China)','region':'Asia'},'TJ':{'country':'Tajikistan','region':'Asia'},'TH':{'country':'Thailand','region':'Asia'},'TL':{'country':'Timor-Leste','region':'Asia'},'TM':{'country':'Turkmenistan','region':'Asia'},'UZ':{'country':'Uzbekistan','region':'Asia'},'VN':{'country':'Vietnam','region':'Asia'},'BZ':{'country':'Belize','region':'Central America'}}}"
        var spDetails = {};
        var spUserLocation = {};
        var completeData = [];
        var areaSelected;
        var arrayOfLocailities = [];

        var countryCallingCode = "<option value='0' disabled selected>Choose Option</option><option value='code1'>CODE1</option><option value='code2'>CODE2</option>";
        var MyTestData1 = [];

        var DuplicateNames = [];
        var isDuplicate = false;


        function makeDropDown(data, levelFilter, i, id, j) {
            const filteredArray = data.filter(r => r[i] === levelFilter);
            const uniqueOptions = new Set();
            filteredArray.forEach(r => uniqueOptions.add(r[j]));
            const uniqueList = [...uniqueOptions];

            const selectLevel2 = document.getElementById(id);
            selectLevel2.innerHTML = " ";
            const option = document.createElement("option");
            option.textContent = "Choose Option";
            option.disabled = "true";
            option.selected = "true";
            selectLevel2.appendChild(option);

            uniqueList.forEach(item => {
                const option = document.createElement("option");
                option.textContent = item;
                selectLevel2.appendChild(option);
            });
            const otherOption = document.createElement("option");
            otherOption.textContent = "Others";
            otherOption.value = "Others";
            selectLevel2.appendChild(otherOption);
        }

        function applyDropDown(id1, i, id2) {
            const selectvalue = document.getElementById(id1).value;
            makeDropDown(simpledata, selectvalue, i, id2, i + 1);
            if (i == 2) {
                makeDropDown(simpledata, selectvalue, 2, "CitySelection", 4);
            }
        }

        //Select options onchange
        $('select.geoLocation').on('change', function () {
            console.log("On chage - select Others");
            if (this.value == "Others") {
                var othersId = "#" + this.id + "Other";
                $(othersId).show();
                $(othersId)[0].required = true;
                console.log($(othersId));
            }
            if (this.value != "Others") {
                var othersId = "#" + this.id + "Other";
                //$(othersId)[0].required = false;
                $(othersId).hide();

            }
        });

        function dropdownCheck(id) {
            //  console.log($("#"+id).value());
            var othersId = "#" + id + "Other";
            $("othersId").show();
        }

        //document.getElementById("countrySelection").addEventListener("change", function () { applyDropDown("countrySelection", 0, "stateSelection") });
        //document.getElementById("stateSelection").addEventListener("change", function () { applyDropDown("stateSelection", 1, "DistrictSelection") });
        // document.getElementById("DistrictSelection").addEventListener("change", function () { applyDropDown("DistrictSelection", 2, "MandalSelection") });
        //  document.getElementById("MandalSelection").addEventListener("change", function () { applyDropDown("MandalSelection", 3, "CitySelection") });


        /*         ##Script end by Panigrahi */




        document.getElementById("btn").addEventListener("click", spFormCheck);

        //initialize select
        document.addEventListener('DOMContentLoaded', function () {
            var elems = document.querySelectorAll('select');
            //var instances = M.FormSelect.init(elems);
        });

        function showThankYouMessage() {
            console.log("showThankYouMessage");
            document.getElementById("thankyouNote").style.display = "block";
            document.getElementById("completeForm").style.display = "none";
        }
        function renameKey(obj, oldKey, newKey) {
            obj[newKey] = obj[oldKey];
            delete obj[oldKey];
        }

        function spFormCheck() {


            var readyToSubmit = true;

            $(".class-was-validated").addClass("was-validated");

            console.log("invalidFeed: " + $(".invalid-feedback").is(":visible"));


            if ($(".invalid-feedback").is(":visible")) {
                readyToSubmit = false;
            }
            debugger;
            var genderCheck = $('#mainRegForm .genderCheck input:radio:checked').val();
            console.log("radio Gender: " + genderCheck);
            console.log(genderCheck === "Male" || genderCheck === "Female");
            if (genderCheck === "Male" || genderCheck === "Female") {
                console.log("HIDE");
                $("#mainRegForm .genderCheck .invalid-feedback").hide();
                readyToSubmit = true;
            } else if (!(genderCheck === "Male" || genderCheck === "Female")) {
                console.log("SHOW");
                $("#mainRegForm .genderCheck .invalid-feedback").show();
                readyToSubmit = false;
            }

            var previousCheck = $('#mainRegForm .prevCheck input:radio:checked').val();
            console.log("previousCheck Gender: " + genderCheck);
            console.log(previousCheck === "Yes" || previousCheck === "No");
            if (previousCheck === "Yes" || previousCheck === "No") {
                $("#mainRegForm .prevCheck .invalid-feedback").hide();
                readyToSubmit = true;
            } else if (!(previousCheck === "Yes" || previousCheck === "No")) {
                $("#mainRegForm .prevCheck .invalid-feedback").show();
                readyToSubmit = false;
            }

            /*if($(".invalid-feedback").is(":visible")){
              $(".submitErrorMsg").show();
            }
            else if(!$(".invalid-feedback").is(":visible")){
              $(".submitErrorMsg").hide();
            }*/



            var formObj = {};
            completeData = [];
            // get all the inputs into an array.
            var $inputs = $('#mainRegForm :input');

            // not sure if you wanted this, but I thought I'd add it.
            // get an associative array of just the values.
            //var values = {};
            $inputs.each(function () { formObj[this.name] = $(this).val(); });
            //console.log("b4 formObj: " + JSON.stringify(formObj));

            if (formObj.fhSelection == null) {
                $(".fhSelectionError").show();
                readyToSubmit = false;
            }
            if (formObj.secutiryQues == null) {
                $(".secutiryQuesError").show();
                readyToSubmit = false;
            }
            if (formObj.alternateNum.length > 0 && formObj.alternateCode == null) {
                $(".alternateCodeError").show();
                readyToSubmit = false;
            }
            if (formObj.whatsappNum.length > 0 && formObj.whatsappCode == null) {
                $(".whatsappCodeError").show();
                readyToSubmit = false;
            }

            formObj.radioGenderCheck = $('#mainRegForm .genderCheck input:radio:checked').val();

            formObj.existing = $('#mainRegForm .prevCheck input:radio:checked').val();

            console.log("after formObj: " + JSON.stringify(formObj));

            // Start - code added by Panigrahi
            //isDuplicate = validateDuplicates(formObj.famName, formObj.name, formObj.telNum);
            /*if (readyToSubmit && isDuplicate) {
                //alert("A record with the name "+addFormObj.addPSurName+" "+addFormObj.addPName+" is already registred with the same Phone number for this event.");
                $("#duplicateName").text(formObj.famName + " " + formObj.name);
                $("#modalDuplicateRecord").click();
                return false;
            }*/
            // End - code ended by Panigrahi

            completeData.push(formObj);
            var addPArrayObj = [];
            $("div.additionalPSection section.additionalPartcipants").each(function () {

                var addFormObj = {};
                var thisIdInputs = "#" + this.id + " :input";
                var thisAddPStr = $(this).attr("addp");
                //console.log("thisAddPStr val: " + thisAddPStr);
                //console.log("thisAddPStr type: " + typeof thisAddPStr);

                var $additionalPInputs = $(thisIdInputs);



                //Additional Participants name value
                $additionalPInputs.each(function () { addFormObj[this.name] = $(this).val(); });

                addFormObj.addPRadioSexCheck = $('#' + this.id + ' .addPRadioGenderCheck input:radio:checked').val();
                console.log("addFormObj.addPRadioSexCheck" + addFormObj.addPRadioSexCheck);
                addFormObj.existing = $('#' + this.id + ' .prevCheck input:radio:checked').val();
                //console.log("Existing"+addFormObj.existing);
                //console.log($('#'+this.id +' .prevCheck input:radio:checked').val());

                renameKey(addFormObj, "addPSurName" + thisAddPStr, "Surname");
                renameKey(addFormObj, "addPName" + thisAddPStr, "Name");
                renameKey(addFormObj, "addPRadioGenderCheck" + thisAddPStr, "addPRadioGenderCheck");
                renameKey(addFormObj, "addPCareTakerSel" + thisAddPStr, "Relation");
                renameKey(addFormObj, "addPAgeCheck" + thisAddPStr, "Age");
                renameKey(addFormObj, "addPfhName" + thisAddPStr, "RalationFullName");
                renameKey(addFormObj, "addPCallingCode" + thisAddPStr, "PrimaryCountryID");
                renameKey(addFormObj, "addPTelephone" + thisAddPStr, "PrimaryPhoneNumber");
                renameKey(addFormObj, "alternateCountryCode" + thisAddPStr, "AlternateCountryID");
                renameKey(addFormObj, "alternateNum" + thisAddPStr, "AlternatePhoneNumber");
                renameKey(addFormObj, "whatsappCountryCode" + thisAddPStr, "WhatsAppCountryCode");
                renameKey(addFormObj, "whatsappNum" + thisAddPStr, "WhatsAppPhoneNumber");
                renameKey(addFormObj, "addPEmail" + thisAddPStr, "EmailID");
                //renameKey(addFormObj, "existing" + thisAddPStr, 'existing');


                //Additional Participant Relation selection
                if (addFormObj.Relation == null) {
                    $("#" + this.id + " .addPCareTakerSelError").show();
                    readyToSubmit = false;
                }

                //Check for country code Alternate Number
                if (addFormObj.PrimaryPhoneNumber.length > 0 && addFormObj.PrimaryCountryID == null) {
                    $("#" + this.id + " .mobileCountryCodeError").show();
                    readyToSubmit = false;
                }
                //Check for country code Alternate Number
                if (addFormObj.AlternatePhoneNumber.length > 0 && addFormObj.AlternateCountryID == null) {
                    $("#" + this.id + " .alternateCountryCodeError").show();
                    readyToSubmit = false;
                }
                //Check for country code WhatsApp Number
                if (addFormObj.WhatsAppPhoneNumber.length > 0 && addFormObj.WhatsAppCountryCode == null) {
                    $("#" + this.id + " .whatsappCountryCodeError").show();
                    readyToSubmit = false;
                }

                // console.log("Additiona Participant Obj: " + JSON.stringify(addFormObj));

                var existingCheck = "existing" + thisAddPStr;
                delete addFormObj[existingCheck];
                delete addFormObj['addPRadioGenderCheck'];

                //console.log("addFormObj removed existing123: " + JSON.stringify(addFormObj));

                // code added by Panigrahi
                //isDuplicate = validateDuplicates(addFormObj.addPSurName, addFormObj.addPName, addFormObj.addPTelephone);
                if (readyToSubmit && isDuplicate) {
                    $("#duplicateName").text(addFormObj.addPSurName + " " + addFormObj.addPName);
                    $("#modalDuplicateRecord").click();
                    return false;
                }
                // code ended by Panigrahi 

                renameKey(addFormObj, "addPRadioSexCheck", "Gender");
                renameKey(addFormObj, "existing", "PreviouslyAttended");

                //completeData.push(addFormObj);
                addPArrayObj.push(addFormObj);
                console.log("AddP Array Obj" + JSON.stringify(addPArrayObj));


            });

            completeData.push(addPArrayObj);

            //console.log(formObj.lname);
            console.log("completeData: " + JSON.stringify(completeData));

            console.log("readyToSubmit" + readyToSubmit);

            if ($(".invalid-feedback").is(":visible")) {
                readyToSubmit = false;
            }

            //showThankyouMessage();
            if (readyToSubmit) {
                console.log("Submit ready");
                $(".submitErrorMsg").hide();
                showThankYouMessage();

                // google.script.run.spFormClicked(completeData);

            } else if (!readyToSubmit) {
                console.log("NOT READY Submit");
                $(".submitErrorMsg").show();

            }

        }

        function mobDeskLayoutApply() {
            //Mobile Apply
            if (winWidth < 1200) {
                $(".removeOnMobile").remove();
            }
            //Desktop Apply
            else if (winWidth >= 1200) {
                $(".removeOnDesktop").remove();
            }
        }
        //mobDeskLayoutApply();
        var additionalPCount = 0;
        var maxAdditionPCount = 189;
        var idArray = [];
        //Additional participants logic
        $("#addParticipants").click(function (event) {
            $("div.additionalPSection").append(additionPHTML);
            var addPLastSection = $("div.additionalPSection section.additionalPartcipants:last-child");
            addPLastSection.attr("addP", ++additionalPCount);
            var addPStr = additionalPCount.toString();

            var addPLastSectionId = addPLastSection.attr("id", "additionalP" + addPStr);

            $('html, body').animate({
                scrollTop: $("#additionalP" + addPStr).offset().top
            }, 500);

            var addPLastSectionInput = $("div.additionalPSection section.additionalPartcipants:last-child input");
            var addPLastSectionLabel = $("div.additionalPSection section.additionalPartcipants:last-child label");
            var addPLastSectionSelect = $("div.additionalPSection section.additionalPartcipants:last-child select");

            addPLastSectionInput.each(function () {
                var idCheck = typeof this.id != "undefined" ? this.id : "";
                if (idCheck != "") {
                    $(this).attr("id", idCheck + addPStr);
                }
                var nameCheck = typeof $(this).attr("name") != "undefined" ? $(this).attr("name") : "";
                if (nameCheck != "") {
                    $(this).attr("name", nameCheck + addPStr);
                }
            });
            addPLastSectionLabel.each(function () {
                var forCheck = typeof $(this).attr("for") != "undefined" ? $(this).attr("for") : "";
                if (forCheck != "") {
                    $(this).attr("for", forCheck + addPStr);
                }
            });
            addPLastSectionSelect.each(function () {
                var idCheck = typeof this.id != "undefined" ? this.id : "";
                if (idCheck != "") {
                    $(this).attr("id", idCheck + addPStr);
                }
                var nameCheck = typeof $(this).attr("name") != "undefined" ? $(this).attr("name") : "";
                if (nameCheck != "") {
                    $(this).attr("name", nameCheck + addPStr);
                }
            });
            $("#addp_calling_code" + addPStr).html(countryCallingCode);
            $("#whatsappCountryCode" + addPStr).html(countryCallingCode);
            $("#alternateCountryCode" + addPStr).html(countryCallingCode);

            //mobDeskLayoutApply();
        });

        //State selection
        $('select#stateSelection').on('change', function () {
            //console.log("Staee Selection spDetails.country: "+spDetails.country);
            spUserLocation.state = this.value;
            console.log("select#stateSelection" + spUserLocation.state);
            if (spUserLocation.state == "Andhra Pradesh" || spUserLocation.state == "Telangana") {
                $(".forTeluguStates").show();
            }
            else if (spUserLocation.state != "Andhra Pradesh" || spUserLocation.state != "Telangana") {
                $(".forTeluguStates").hide();
            }
        });

        //Update calling code
        function updateCode(code) {
            document.getElementById("calling_code").value = code;
            //M.updateTextFields();
        }
        //console.log("listOfCountries: ");

        //Remove the Additional Participants
        $(document).on("click", ".removeSection", function (event) {
            this.closest("section").remove();
        });


        // On blur validation listener for form elements
        //$('.needs-validation').find('input,select,textarea').on('focusout', function () {
        $(document).on('focusout', '.needs-validation input,.needs-validation select,.needs-validation textarea', function () {
            //$('input,select,textarea').on('focusout', function () {
            // check element validity and change class
            $(this).removeClass('is-valid is-invalid').addClass(this.checkValidity() ? 'is-valid' : 'is-invalid');

        });

        $(document).on('change', 'select#fhSelection', function () {
            console.log("select#fhSelection");
            $(".fhSelectionError").hide();
        });
        $(document).on('change', '.additionalPSection .addPCareTaker select', function () {
            console.log("select#fhSelection");
            $(".addPCareTakerSelError").hide();
        });
        $(document).on('change', '.additionalPSection .mobileCodeNum select', function () {
            $(".mobileCountryCodeError").hide();
        });
        $(document).on('change', '.additionalPSection .alternateCodeNum select', function () {
            $(".alternateCountryCodeError").hide();
        });
        $(document).on('change', '.additionalPSection .whatsappCodeNum select', function () {
            $(".whatsappCountryCodeError").hide();
        });
        $(document).on('change', 'select#secutiryQues', function () {
            console.log("select#secutiryQues");
            $(".secutiryQuesError").hide();
        });
        $(document).on('change', 'select#alternateCode', function () {
            console.log("select#alternateCode");
            $(".alternateCodeError").hide();
        });
        $(document).on('change', 'select#whatsappCode', function () {
            console.log("select#whatsappCode");
            $(".whatsappCodeError").hide();
        });


        function appendAreaOptions(data) {
            arrayOfLocailities = data.results[data.query.codes[0]];
            $.each(arrayOfLocailities, function (i, value) {
                console.log("i:" + i + "value:" + value.city);
                $('#areaSelection').append($('<option>').text(value.city).attr('value', i));
            });
        }


        /*API Get Call*/
        function getServiceCall(serviceUrl) {
            $.ajax({
                type: "GET",
                url: serviceUrl,
                dataType: "json",
            }).done(function (data) {
                console.log("Response: " + JSON.stringify(data));
                appendAreaOptions(data);
            }).fail(function () {
                console.log("Failed");
            });
        }

        var apiKey = "b72b0b60-1be2-11eb-927b-576302e93169";
        var locationAPIDomain = "https://app.zipcodebase.com";
        var locationAPIPath = "/api/v1/search";
        var finalURL = locationAPIDomain + locationAPIPath + "?apikey=" + apiKey;
        var responseData = '{"query":{"codes":["500018"],"country":"in"},"results":{"500018":[{"postal_code":"500018","country_code":"IN","latitude":"17.45230000","longitude":"78.43240000","city":"Vivekananda Nagar Colony","state":"Telangana","state_code":"40","province":"Hyderabad","province_code":"536"},{"postal_code":"500018","country_code":"IN","latitude":"17.38980000","longitude":"78.46990000","city":"Erragadda","state":"Telangana","state_code":"40","province":"Hyderabad","province_code":"536"},{"postal_code":"500018","country_code":"IN","latitude":"17.45230000","longitude":"78.43240000","city":"Sanathnagar I E","state":"Telangana","state_code":"40","province":"Hyderabad","province_code":"536"},{"postal_code":"500018","country_code":"IN","latitude":"17.45230000","longitude":"78.43240000","city":"Fathenagar Colony","state":"Telangana","state_code":"40","province":"K.V.Rangareddy","province_code":"537"},{"postal_code":"500018","country_code":"IN","latitude":"17.45230000","longitude":"78.43240000","city":"Bharat Nagar Colony","state":"Telangana","state_code":"40","province":"K.V.Rangareddy","province_code":"537"},{"postal_code":"500018","country_code":"IN","latitude":"17.45230000","longitude":"78.43240000","city":"Swarajyanagar","state":"Telangana","state_code":"40","province":"K.V.Rangareddy","province_code":"537"},{"postal_code":"500018","country_code":"IN","latitude":"17.45230000","longitude":"78.43240000","city":"Moosapet","state":"Telangana","state_code":"40","province":"K.V.Rangareddy","province_code":"537"}]}}';
        appendAreaOptions(JSON.parse(responseData));
        /*on blur function for Postcal Code*/
        function initiateServiceCall(country, postalCode) {
            if (country != "null" && postalCode != "") {
                finalURL = finalURL + "&country=" + country + "&codes=" + postalCode
                //getServiceCall(finalURL);
            }
            else {
                console.log("ERRORR");
            }
        }

        //Select options onchange
        $('select#areaSelection').on('change', function () {
            console.log("areaSelection" + JSON.stringify(arrayOfLocailities[this.value]));

        });
    </script>
</body>

</html>
