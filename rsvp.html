<!DOCTYPE html>
<html>

<head>
    <title>SSSGVS</title>
    <base target="_top">

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <style>
        /*Commonstyle*/
        .success{
            color: #fff;
            background-color: green;
        }
        .required:after {
            content: " *";
            color: red;
        }

        .info-feedback {
            color: #000;
            background-color: #d4d4d4;
        }

        .error {
            color: red;
        }

        .mBtm20 {
            margin-bottom: 20px;
        }

        .bRight2Lite {
            border-right: 2px solid #d4d4d4;
        }

        .fLeft {
            float: left;
        }

        .fRight {
            float: right;
        }

        .clearBoth {
            clear: both;
        }

        .marginAuto {
            margin: 0 auto;
        }

        .backGRed {
            background-color: red;
        }

        .colorRed {
            color: red;
        }

        .colorBlack {
            color: #000;
        }

        .loginSection {
            margin: 20px 0;
            border: 2px solid #d4d4d4;
            padding: 20px 0;
        }

        /*template Styles*/
        body {
            background: #ffecaa;
        }

        .mainContainer {
            max-width: 945px;
        }

        @media only screen and (min-width: 992px) {

            .headerNavigation,
            .headerNavigation .nav-link {
                height: 37px;
                background-color: #c81c0e;
            }
        }

        @media only screen and (max-width: 991px) {

            .headerNavigation,
            .headerNavigation .nav-link {
                padding: 10px;
            }
        }

        .headerNavigation .dropdown-menu,
        .headerNavigation ul {
            background-color: #c81c0e;
        }

        .headerNavigation .nav-link,
        .headerNavigation .dropdown-menu a {
            color: #fff !important;
            font-weight: 700;
            font-family: Verdana;
            font-size: 12px;
        }

        .headerNavigation .nav-link:hover,
        .headerNavigation a:hover {
            color: #000 !important;
        }

        .headerNavigation a.dropdown-item:hover {
            background-color: orange;
        }

        .headerNavigation .nav-item {
            border-right: 2px solid #9c3232 !important;
        }

        .headerNavigation .nav-item:last-child {
            border: none !important;
        }


        /* Form styles */
        label.radio-inline+label.radio-inline {
            padding-left: 10px;
        }

        label.radio-inline span {
            padding-left: 10px;
        }

        .buttonsSection,
        #addParticipants {
            margin-bottom: 20px;
        }

        /*Additional Participants*/
        .additionalPartcipants {
            border: 2px solid #1565C0;
            border-radius: 5px;
            padding: 15px;
        }

        .additionalPartcipants {
            margin-bottom: 20px;
        }

        .removeSection {
            float: right;
            color: #000;
            cursor: pointer;
            text-decoration: underline;
        }

        .removeSection .material-icons {
            position: relative;
            top: 4px;
        }

        .was-validated .optional:valid,
        .was-validated .optional:invalid {
            background-image: none;
            border-color: inherit;
        }

        .addPHeading div {
            display: inline-block;
            margin-bottom: 20px;
        }

        /*Thankyou note & Duplicate info*/
        .exclaim {
            margin-top: 6px;
            margin-left: 5px;
        }

        .form-group .alert-info {
            font-size: 20px !important;
        }

        .namaskaraImage {
            width: 150px;
            margin: 0 auto;
            margin-top: 25px;
        }

        .thankyouNote .textCenter {
            color: #fff;
        }

        .thankyouNote {
            background-color: #7cdd7c !important;
        }

        /*All Buttons sections*/
        .allButtons button {
            margin-bottom: 20px;
        }
    </style>
</head>

<body>

    <div class="mainContainer container">
        <!--Header Start-->
        <div class="header">
            <img class="card-img-top SSSGVSImg"
                src="https://acceptance.srisrisriguruviswasphoorthi.org/images/header.jpg"
                alt="SriSriSri Guru Viswa Sphoorthi" width="892" height="133">
            <!--Navigation Menu Start-->
            <nav class="navbar navbar-expand-lg navbar-light headerNavigation">

                <button class="navbar-toggler" type="button" data-toggle="collapse"
                    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">The Scientific Sanit</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Dhyana Mano Prasthan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Jana Prasthan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Activities</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Divyakunj</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Live</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Experiences</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Gallery
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="#">Photo Gallery</a>
                                <a class="dropdown-item" href="#">Video Gallery</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
            <!--Navigation Menu End-->
        </div>
        <!--Header End-->

        <br />

        <!--Start - Password assistance-->
        <div class="passwordAssistance">
            <div class="col-md-12 col-sm-12">
                <h1>Password Assistance Section</h1>
                <form id="passwordAssistanceForm" class="needs-validation class-was-validated" novalidate>
                    <div class="form-group">
                        <label for="oldPassword" class="required">Old PIN : </label>
                        <input type="text" class="form-control" name="OldPassword" id="oldPassword"
                            placeholder="Old Password" minlength="6" required>
                        <div class="invalid-feedback">
                            Please fill the above input with correct details.
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="newPin" class="required">New PIN :</label>
                        <input type="password" minlength="6" placeholder="Enter PIN" name="NewPin" class="form-control"
                            id="pin" required>
                        <div class="invalid-feedback">Please enter a PIN</div>
                    </div>
                    <div class="form-group">
                        <label for="newPin" class="required">Confirm New PIN :</label>
                        <input type="password" minlength="6" placeholder="Confirm New PIN" name="NewPin"
                            class="form-control" id="pin" required>
                        <div class="invalid-feedback">Confirm PIN</div>
                    </div>
                </form>

                <div class="results col-sm-12">
                    <button type="botton" id="confirmPINBtn" class="btn btn-primary col-sm-4">Update PIN</button>
                </div>
            </div>
        </div>
        <!--End - Password assistance-->

        <br />
        <p class="clearBoth">&nbsp;</p>

        <!--Subwidget Start-->
        <!--Subwidget Styles Start-->
        <style>
            .subWidget {
                border: 2px solid #d4d4d4;
                padding: 0;
                border-radius: 6px;
                margin-bottom: 15px;
                margin-top: 15px;
            }

            .subWidget p {
                padding: 0 20px;
            }

            .subWidget .top {
                min-height: 30px;
                background-color: #c4c4c4;
                font-weight: 700;
                border-top-left-radius: 5px;
                border-top-right-radius: 5px;
            }

            .subWidget .body {
                min-height: 90px;
            }

            .subWidget .bottom {
                text-align: center;
                margin-bottom: 10px;
            }

            .subWidget {
                display: inline-block;
            }
        </style>
        <!--Subwidget Styles Start-->
        <div class="subWidget col-xs-12 col-sm-6 col-md-3">
            <div class="top">
                <p>Event</p>
            </div>
            <div class="body">
                <p>Event brief Event brief Event brief Event brief Event brief Event brief Event brief Event brief</p>
            </div>
            <div class="bottom">
                <button type="button" class="btn btn-primary">Register here</button>
            </div>
        </div>
        <div class="subWidget col-sm-6 col-xs-12 col-md-3">
            <div class="top">
                <p>Event</p>
            </div>
            <div class="body">
                <p>Event brief Event brief Event brief Event brief Event brief Event brief Event brief Event brief</p>
            </div>
            <div class="bottom">
                <button type="button" class="btn btn-primary">Register here</button>
            </div>
        </div>
        <div class="subWidget col-sm-6 col-md-3 col-xs-12">
            <div class="top">
                <p>Event</p>
            </div>
            <div class="body">
                <p>Event brief Event brief Event brief Event brief Event brief Event brief Event brief Event brief</p>
            </div>
            <div class="bottom">
                <button type="button" class="btn btn-primary">Register here</button>
            </div>
        </div>
        <!--Subwidget End-->

        <div class="col-sm-12 loginSection fLeft">
            <div class="col-md-6 col-sm-12 fLeft bRight2Lite">
                <h1>Login Section</h1>
                <form id="rsvpForm" class="needs-validation class-was-validated" novalidate>
                    <div class="form-group">
                        <label for="memberId">Member Id: </label>
                        <input type="text" class="form-control" name="MEMBERID" id="memberId"
                            placeholder="Enter Member Id" minlength="10" maxlength="10" required>
                        <div class="invalid-feedback">
                            Please enter your Member Id (సభ్యుడు ఐడి వ్రాయగలరు).
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="pin">Enter a PIN :</label>
                        <input type="password" minlength="6" placeholder="Enter PIN" name="pin" class="form-control"
                            id="pin" required>
                        <div class="invalid-feedback">Please enter a PIN.</div>
                    </div>
                </form>

                <div class="results col-sm-12">
                    <button type="submit" id="login" class="btn btn-primary col-sm-4">Login</button>
                    <button type="button" class="btn btn-link col-sm-4">Forgot PIN?</button>
                </div>
            </div>

            <div class="col-md-6 col-sm-12 fLeft">
                <h2>Registration Section</h2>
                <div class="registrationSection">
                    <p>If it is your first time registering with us, please use the below registration link.</p>
                    <a href="#">Member/Event Registration</a>
                </div>
            </div>
        </div>
        <hr class="clearBoth" />

        <div class="allButtons col-sm-12 clearBoth">
            <button type="submit" class="btn btn-info col-sm-4">Event Registration (RSVP)</button>
            <button type="submit" class="btn btn-primary col-sm-4">Event Attendance</button>
            <button type="submit" class="btn btn-info col-sm-4">Add More Participants</button>
            <button type="submit" class="btn btn-primary col-sm-4">Change your PIN</button>
            <button type="submit" class="btn btn-info col-sm-4">Edit Personal Details</button>
            <button type="submit" class="btn btn-primary col-sm-4">View the Event Details/Event Registration</button>
        </div>

        <hr class="clearBoth" />

        <div class="rsvpSection">
            <h2>EVENT RSVP Form</h2>
            <img class="card-img-top SSSGVSImg"
                src="https://srisrisriguruviswasphoorthi.org/gallery/Celebrations/Birthday%20Celebrations%202015/3638.jpg"
                alt="SriSriSri Guru Viswa Sphoorthi">

            <hr class="clearBoth" />

            <form id="rsvpResultsForm" class="results mBtm20 needs-validation class-was-validated">
                <table id="rsvpResultsTable" class="resultsTable table table-striped table-bordered table-responsive">
                    <thead>
                        <tr>
                            <th scope="col" colspan="2">#</th>
                            <th scope="col">Full Name</th>
                            <th scope="col">Phone Number</th>
                            <th scope="col">Host Location</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="devoteeRSVP">
                            <th scope="row">1</th>
                            <td><input type="checkbox" class="formCheckInput" id="exampleCheck1"></td>
                            <td class="fullName">Full Name1</td>
                            <td class="phNumber">12312312345</td>
                            <td class="hllocation">
                                <select name="hostLocationSelection" class="custom-select hostLocationSelection">
                                    <option value="null" disabled="" selected="">Choose an Option</option>
                                    <option value="HL200001">India</option>
                                    <option value="HL200002">USA</option>
                                </select>
                                <div class="info-feedback" style="display:none">Please select a location</div>
                            </td>
                        </tr>
                        <tr class="devoteeRSVP">
                            <th scope="row">2</th>
                            <td><input type="checkbox" class="formCheckInput" id="exampleCheck1"></td>
                            <td class="fullName">Full Name2</td>
                            <td class="phNumber">12312312345</td>
                            <td class="hllocation">
                                <select name="hostLocationSelection" class="custom-select hostLocationSelection">
                                    <option value="null" disabled="" selected="">Choose an Option</option>
                                    <option value="HL200001">India</option>
                                    <option value="HL200002">USA</option>
                                </select>
                                <div class="info-feedback" style="display:none">Please select a location</div>
                            </td>
                        </tr>
                        <tr class="devoteeRSVP">
                            <th scope="row">3</th>
                            <td><input type="checkbox" class="formCheckInput" id="exampleCheck1"></td>
                            <td class="fullName">Full Name3</td>
                            <td class="phNumber">12312312345</td>
                            <td class="hllocation">
                                <select name="hostLocationSelection" class="custom-select hostLocationSelection">
                                    <option value="null" disabled="" selected="">Choose an Option</option>
                                    <option value="HL200001">India</option>
                                    <option value="HL200002">USA</option>
                                </select>
                                <div class="info-feedback" style="display:none">Please select a location</div>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div class="results col-sm-12">
                    <p class="error mBtm20" style="display: none;">Have you missed selecting a checkbox? Please select a
                        checkbox for registering to this event.</p>
                    <button type="button" class="btn btn-primary col-sm-3 mBtm20" id="submitRSVP">Submit
                        Details</button>
                    <button type="button" class="btn btn-info col-sm-3 mBtm20" id="addMoreParticipants">Add More
                        Participants</button>
                </div>
            </form>
            <div class="success" style="display:none">
                Your response is captured!
            </div>
        </div>
    </div>


    <!-- jQuery first, then Popper.js, then Bootstrap JS-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>
    <script>

        // On blur validation listener for form elements
        $(document).on('focusout', '.needs-validation input', function () {
            // check element validity and change class
            $(this).removeClass('is-valid is-invalid').addClass(this.checkValidity() ? 'is-valid' : 'is-invalid');
        });

        //Validation on click of login button
        $("#login").click(function () {
            //Updating the class for validation
            $("#rsvpForm.class-was-validated").addClass("was-validated");
        });

        //Validate Password Assistance Section
        $("#confirmPINBtn").click(function () {
            $("#passwordAssistanceForm.class-was-validated").addClass("was-validated");
        });

        //Validate Password Assistance Section
        $("#rsvpResultsTable").click(function () {
            $("#passwordAssistanceForm.class-was-validated").addClass("was-validated");
        });

        //Start - RSVP Script
        //RSVP CheckBox
        $(".formCheckInput").click(function () {
            console.log($(this).prop('checked'));
            var parentsTR = $(this).parents("tr");
            if ($(this).prop('checked')) {
                parentsTR.addClass("selected");
                parentsTR.find(".hllocation option:selected").val() == "null" ? parentsTR.find(".info-feedback").show() : parentsTR.find(".info-feedback").hide();
            } else {
                parentsTR.removeClass("selected");
                parentsTR.find(".info-feedback").hide();
            }
        });


        //Validate Submit RSVP
        $("#submitRSVP").click(function () {
            var rsvpObj = [];
            //$("#rsvpResultsForm.class-was-validated").addClass("was-validated");

            console.log($(".devoteeRSVP.selected").length);

            var selectedRows = $(".devoteeRSVP.selected");
            selectedRows.length == 0 ? $(".results .error").show() : $(".results .error").hide();

            $.each(selectedRows, function (i, value) {
                var eachRow = {};
                eachRow["FULLNAME"] = $(this).find(".fullName").text();
                eachRow["PHONENUMBER"] = $(this).find(".phNumber").text();
                eachRow["HOSTLOCATION"] = $(this).find(".hllocation option:selected").val();
                console.log("hostLocation: " + eachRow.HOSTLOCATION);
                eachRow.HOSTLOCATION == "null" ? $(this).find(".info-feedback").addClass("error") : $(this).find(".error").hide();
                console.log("eachRow: " + JSON.stringify(eachRow));
                rsvpObj.push(eachRow);
            });
            var infoOrError = $(".info-feedback:visible").length + $(".error:visible").length;
            if (infoOrError == 0){
                $("#rsvpResultsForm").hide();
                $(".success").show();
            }
            console.log("rsvpObj: " + JSON.stringify(rsvpObj));
        });
        
        $('.hostLocationSelection').on('change', function () {
            $(this).parent().find(".info-feedback").hide();
        });
        //End - RSVP Script
    </script>
</body>

</html>
